<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="楽天市場MOGUストアのお買い物マラソン特集ページです。送料無料・1000円ポッキリ商品、人気アイテム、新商品、お買い得品を多数ご用意しています。"
    />
    <title>楽天 お買い物マラソン - MOGUストア</title>
    <link rel="preconnect" href="https://www.rakuten.ne.jp" />
    <link rel="preconnect" href="https://www.rakuten.co.jp" />
    <link rel="preconnect" href="https://image.rakuten.co.jp" />
    <link rel="dns-prefetch" href="https://www.rakuten.ne.jp" />
    <link rel="dns-prefetch" href="https://www.rakuten.co.jp" />
    <link rel="dns-prefetch" href="https://image.rakuten.co.jp" />
    <style>
      /* CSS変数定義 */
      :root {
        --primary-color: #bf0000;
        --secondary-color: #ff6b6b;
        --text-color: #333;
        --background-color: #fff;
        --border-color: #ddd;
        --shadow-color: rgba(0, 0, 0, 0.1);
        --animation-duration: 0.3s;
        --spacing-unit: 1rem;
      }

      /* Critical Path CSS */
      body {
        margin: 0;
        padding: 0;
        font-family: "Hiragino Sans", "Hiragino Kaku Gothic ProN", "メイリオ",
          sans-serif;
        color: var(--text-color);
        background-color: var(--background-color);
        overflow-x: hidden;
      }

      /* パフォーマンス最適化されたアニメーション */
      @media (prefers-reduced-motion: no-preference) {
        .calendar-countdown {
          will-change: transform;
          transform: translateZ(0);
          backface-visibility: hidden;
        }

        .calendar-page {
          transition: transform var(--animation-duration)
            cubic-bezier(0.4, 0, 0.2, 1);
          will-change: transform;
          transform: translateZ(0);
        }

        .product-card {
          content-visibility: auto;
          contain: layout style paint;
        }
      }

      /* レイアウトシフト防止 */
      .sale-header-img,
      .coupon-logo,
      .coupon-card,
      .product-image {
        aspect-ratio: attr(width) / attr(height);
        contain: layout style paint;
      }

      /* GPU加速の最適化 */
      .category-section.sticky {
        transform: translateZ(0);
        will-change: transform;
        backface-visibility: hidden;
      }

      /* スクロールパフォーマンスの最適化 */
      .product-grid {
        contain: content;
        content-visibility: auto;
      }

      /* アニメーション最適化 */
      @media (prefers-reduced-motion: reduce) {
        * {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
          scroll-behavior: auto !important;
        }
      }

      /* 変数定義 */
      :root {
        /* カラー */
        --color-primary: #cb0708;
        --color-secondary: #ffd400;
        --color-black: #000000;
        --color-white: #ffffff;
        --color-gray: #666666;
        --color-background: #c90908;
        --color-kidnapper: #ffffff;

        /* セクション背景色 */
        --color-section-1: #fff9f9;
        --color-section-2: #f9f9ff;
        --color-section-3: #fffbf6;
        --color-section-4: #f6fff9;

        /* タイポグラフィ */
        --font-size-xs: 0.75rem; /* 12px */
        --font-size-sm: 0.875rem; /* 14px */
        --font-size-base: 1rem; /* 16px */
        --font-size-lg: 1.125rem; /* 18px */
        --font-size-xl: 1.25rem; /* 20px */
        --font-size-2xl: 1.5rem; /* 24px */
        --font-size-3xl: 1.875rem; /* 30px */

        /* 行間 */
        --line-height-tight: 1.2;
        --line-height-normal: 1.5;
        --line-height-relaxed: 1.75;

        /* レタースペーシング */
        --letter-spacing-tight: -0.02em;
        --letter-spacing-normal: 0;
        --letter-spacing-wide: 0.05em;

        /* フォント */
        --font-family-base: "Inter", "Helvetica Neue", Arial, sans-serif;
        --font-family-heading: "Inter", "Helvetica Neue", Arial, sans-serif;
        --spacing-base: 1rem;
      }

      /* リセット */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: var(--font-family-base);
        line-height: var(--line-height-normal);
        color: var(--color-black);
        background: var(--color-kidnapper);
        font-size: var(--font-size-base);
        letter-spacing: var(--letter-spacing-normal);
      }

      img {
        max-width: 100%;
        height: auto;
        display: block;
      }

      a {
        text-decoration: none;
        color: inherit;
      }

      /* レイアウト */
      .container {
        width: 100%;
        overflow-x: hidden;
      }

      /* セールヘッダー */
      .sale-header {
        width: 100%;
        padding: 0;
        background: linear-gradient(
          135deg,
          #ffffff 0%,
          #f0f8ff 50%,
          #e6f3ff 100%
        );
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        position: relative;
        overflow: hidden;
      }

      /* 風船のアニメーション */
      .balloon-container {
        position: absolute;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 2;
      }

      .balloon {
        position: absolute;
        width: 30px;
        height: 40px;
        background: radial-gradient(
          circle at 50% 30%,
          currentColor 60%,
          rgba(255, 255, 255, 0.8) 100%
        );
        border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
        animation: floatUp var(--float-duration) ease-in-out forwards;
        opacity: 0;
      }

      .balloon::after {
        content: "";
        position: absolute;
        width: 2px;
        height: 12px;
        background: rgba(0, 0, 0, 0.2);
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
      }

      @keyframes floatUp {
        0% {
          transform: translateY(120vh) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(-20vh) rotate(var(--rotation));
          opacity: 0;
        }
      }

      /* クラッカーのアニメーション */
      .confetti-container {
        position: absolute;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
      }

      .confetti {
        position: absolute;
        width: 8px;
        height: 20px;
        background: var(--confetti-color);
        opacity: 0;
        animation: confettiFall var(--fall-duration) ease-in-out forwards;
      }

      @keyframes confettiFall {
        0% {
          transform: translateY(-10px) rotate(0deg);
          opacity: 1;
        }
        25% {
          transform: translateY(25vh) rotate(45deg);
          opacity: 1;
        }
        50% {
          transform: translateY(50vh) rotate(90deg);
          opacity: 0.8;
        }
        75% {
          transform: translateY(75vh) rotate(135deg);
          opacity: 0.6;
        }
        100% {
          transform: translateY(100vh) rotate(180deg);
          opacity: 0;
        }
      }

      .sale-header-img {
        width: 100%;
        height: auto;
        display: block;
      }

      /* カテゴリーセクション */
      .category-wrapper {
        padding: calc(2 * var(--spacing-base)) var(--spacing-base);
        background-color: var(--color-kidnapper);
      }

      /* クーポンセクション */
      .coupon-section {
        margin: 2rem auto;
        max-width: 800px;
        text-align: center;
        position: relative;
      }

      .coupon-logo-container {
        position: relative;
        overflow: hidden;
        margin-bottom: 1.5rem;
      }

      .coupon-logo {
        max-width: 300px;
        margin: 0 auto;
        animation: float 3s ease-in-out infinite, appear 1.2s ease-out;
        position: relative;
        z-index: 1;
      }

      /* ロゴの浮かび上がるアニメーション */
      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
          filter: drop-shadow(0 5px 15px rgba(203, 7, 8, 0.2));
        }
        50% {
          transform: translateY(-10px);
          filter: drop-shadow(0 15px 20px rgba(203, 7, 8, 0.3));
        }
      }

      /* ロゴのフェードインアニメーション */
      @keyframes appear {
        0% {
          opacity: 0;
          transform: translateY(20px) scale(0.95);
        }
        100% {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      /* ロゴの背後に光るエフェクト */
      .coupon-logo-container::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 250px;
        height: 100px;
        background: radial-gradient(
          circle,
          rgba(255, 212, 0, 0.3) 0%,
          rgba(255, 212, 0, 0) 70%
        );
        transform: translate(-50%, -50%);
        z-index: 0;
        animation: glow 3s ease-in-out infinite;
      }

      @keyframes glow {
        0%,
        100% {
          opacity: 0.5;
          transform: translate(-50%, -50%) scale(1);
        }
        50% {
          opacity: 0.8;
          transform: translate(-50%, -50%) scale(1.1);
        }
      }

      .coupon-card {
        display: block;
        width: 100%; /* 幅を100%に設定 */
        max-width: 800px; /* 最大幅を設定 */
        margin: 0 auto;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        background-color: #fff; /* 背景色を白に設定 */
        animation: cardAppear 0.8s ease-out 0.5s backwards;
        position: relative;
      }

      /* クーポンカードのフェードインアニメーション */
      @keyframes cardAppear {
        0% {
          opacity: 0;
          transform: translateY(30px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .coupon-card:hover {
        transform: translateY(-5px) scale(1.02);
        box-shadow: 0 15px 30px rgba(203, 7, 8, 0.15);
      }

      /* クーポンカードの光るエフェクト */
      .coupon-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 50%;
        height: 100%;
        background: linear-gradient(
          to right,
          rgba(255, 255, 255, 0) 0%,
          rgba(255, 255, 255, 0.3) 50%,
          rgba(255, 255, 255, 0) 100%
        );
        transform: skewX(-25deg);
        animation: shine 3s infinite 1s;
        z-index: 1;
      }

      @keyframes shine {
        0% {
          left: -100%;
        }
        20%,
        100% {
          left: 150%;
        }
      }

      @media (max-width: 768px) {
        .coupon-section {
          margin: 1.5rem auto;
          padding: 0 1rem;
        }

        .coupon-logo {
          max-width: 250px;
          margin-bottom: 1rem;
        }
      }

      .campaign-section {
        margin-bottom: 2rem;
      }

      .campaign-info {
        margin-top: 0;
        padding: 1.5rem;
        background: linear-gradient(135deg, #fff 0%, #fff8e1 100%);
        border-radius: 12px;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      }

      .category-section {
        padding: 0;
        background-color: transparent;
        text-align: center;
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        transform-origin: top;
        will-change: transform, opacity, padding;
      }

      .category-section.sticky {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 100;
        padding: 0.5rem;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        border-top: 1px solid rgba(203, 7, 8, 0.15);
        border-bottom: none;
        box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease, opacity 0.3s ease;
      }

      .category-section.sticky .campaign-info {
        opacity: 0;
        max-height: 0;
        overflow: hidden;
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .category-section .campaign-info {
        opacity: 1;
        max-height: 1000px;
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        transform-origin: top;
      }

      .category-section .category-buttons,
      .category-section .category-button,
      .category-section .category-text,
      .category-section .category-icon {
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .category-section.transitioning {
        transform: scale(0.98);
        opacity: 0.95;
      }

      /* カテゴリーボタンのレイアウト - デスクトップは2x2グリッド、モバイルは縦4つ並び */
      .category-buttons {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
      }

      .category-row {
        display: contents;
      }

      .category-button {
        background: linear-gradient(to right, #bf0000, #ff3333);
        border-radius: 10px;
        padding: var(--spacing-base) calc(1.5 * var(--spacing-base));
        color: white;
        font-weight: bold;
        text-decoration: none;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        position: relative;
        overflow: hidden;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .category-text {
        color: var(--color-white);
        font-weight: 700;
        font-size: var(--font-size-lg);
        line-height: var(--line-height-tight);
        text-align: left;
        z-index: 1;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        letter-spacing: var(--letter-spacing-normal);
      }

      .category-icon {
        width: 1.5rem;
        height: 1.5rem;
        object-fit: contain;
        z-index: 1;
        margin-left: 0.625rem;
      }

      .category-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        background: linear-gradient(to right, #ff3333, #bf0000);
      }

      .campaign-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: #cb0708;
        margin-bottom: 1.5rem;
        text-align: center;
        line-height: 1.6;
      }

      .campaign-period {
        position: relative;
        text-align: center;
        background: #fff;
        border-radius: 8px;
        padding: 2rem 1.5rem;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        border: 2px solid #28b6cf;
        margin-top: 2rem;
      }

      .campaign-period::before {
        content: "新生活応援プライス期間";
        position: absolute;
        top: -1.2rem;
        left: 50%;
        transform: translateX(-50%);
        background: #28b6cf;
        color: #fff;
        padding: 0.5em 2em;
        font-size: 1.1rem;
        font-weight: 700;
        border-radius: 100px;
        white-space: nowrap;
        box-shadow: 0 4px 15px rgba(40, 182, 207, 0.3);
      }

      .period-date {
        font-size: 1.8rem;
        font-weight: 700;
        color: #333;
        margin-bottom: 1.5rem;
        line-height: 1.4;
      }

      .countdown {
        margin-top: 1rem;
      }

      .countdown-title {
        font-size: 1.2rem;
        font-weight: 700;
        color: #28b6cf;
        margin-bottom: 1rem;
      }

      .countdown-wrap {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-top: 0.5rem;
      }

      .countdown-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        background: #f0f8ff;
        padding: 0.5rem 1rem;
        border-radius: 8px;
        min-width: 80px;
      }

      .countdown-item span:first-child {
        font-size: 2rem;
        font-weight: 800;
        color: #28b6cf;
        line-height: 1.2;
      }

      .countdown-label {
        font-size: 0.9rem;
        color: #666;
        margin-top: 0.2rem;
      }

      @media (max-width: 768px) {
        .category-wrapper {
          padding: 1rem;
        }

        .campaign-section {
          margin-bottom: 1.5rem;
        }

        .campaign-info {
          padding: 1rem;
        }

        .campaign-title {
          font-size: 1.1rem;
          line-height: 1.4;
          padding: 0 0.5rem;
          word-break: keep-all;
          overflow-wrap: break-word;
        }

        .campaign-period {
          padding: 1.2rem 1rem;
          margin-top: 1.8rem;
          word-break: keep-all;
          overflow-wrap: break-word;
        }

        .category-section.sticky {
          position: fixed;
          bottom: 0;
          top: auto;
          left: 0;
          right: 0;
          z-index: 100;
          padding: 0.5rem;
          background: rgba(255, 255, 255, 0.95);
          backdrop-filter: blur(8px);
          -webkit-backdrop-filter: blur(8px);
          border-top: 1px solid rgba(203, 7, 8, 0.15);
          border-bottom: none;
          box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.1);
          transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .category-section.sticky .category-buttons {
          display: flex;
          flex-direction: column;
          gap: 0.7rem;
          padding: 0 0.5rem;
        }

        .category-section.sticky .category-row {
          display: flex;
          flex-direction: column;
          gap: 0.7rem;
          width: 100%;
        }

        .category-section.sticky .category-button {
          width: 100%;
          min-width: 0;
          padding: 0.6rem;
          font-size: 0.9rem;
          line-height: 1.3;
          white-space: normal;
          flex: 1 1 auto;
          background: linear-gradient(to right, #bf0000, #ff3333);
          border-radius: 8px;
          box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);
          justify-content: space-between;
          height: auto;
          display: flex;
          align-items: center;
        }

        .category-section.sticky .category-text {
          font-size: 0.9rem;
          line-height: 1.3;
          text-align: left;
          padding: 0;
          width: auto;
          word-break: keep-all;
          overflow-wrap: break-word;
        }

        .category-section.sticky .category-icon {
          display: none; /* 矢印アイコンを非表示に変更 */
          width: 20px;
          height: auto;
        }

        /* フッターとの干渉を防ぐためのスペース確保 */
        .site-footer {
          margin-bottom: 180px;
        }

        /* スクロールインジケータを削除 */
        .category-section.sticky::after {
          display: none;
        }

        .category-buttons {
          gap: 0.7rem;
        }

        .category-row {
          gap: 0.7rem;
          padding: 0 0.5rem;
          overflow-x: auto;
          justify-content: flex-start;
          -webkit-overflow-scrolling: touch;
          scrollbar-width: none;
          -ms-overflow-style: none;
          padding-bottom: 5px; /* スクロールバーのスペース確保 */
        }

        .category-row::-webkit-scrollbar {
          display: none;
        }

        .category-button {
          padding: 0.6rem 1rem;
          font-size: 0.9rem;
          white-space: normal;
          background: linear-gradient(to right, #bf0000, #ff3333);
          box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);
          min-width: auto; /* 幅を内容に合わせる */
          flex: 0 0 auto; /* 幅を固定しない */
          width: 100%;
          justify-content: space-between; /* 左右に配置 */
          display: flex;
          align-items: center;
        }

        .category-button:active {
          transform: translateY(0) scale(0.98);
        }

        .category-text {
          word-break: keep-all;
          overflow-wrap: break-word;
          line-height: 1.4;
          font-size: 0.9rem;
        }
      }

      @media (max-width: 380px) {
        .section-title,
        .sofa-section .section-title,
        .sleep-section .section-title,
        .office-living-section .section-title,
        .gift-section .section-title {
          font-size: 0.9rem !important;
          line-height: 1.5 !important;
          padding: 0.7rem !important;
          letter-spacing: -0.02em !important;
        }

        .section-description,
        .sofa-section .section-description,
        .sleep-section .section-description,
        .office-living-section .section-description,
        .gift-section .section-description {
          font-size: 0.8rem !important;
          line-height: 1.5 !important;
          padding: 0 0.5rem !important;
        }

        .campaign-title {
          font-size: 0.9rem !important;
          line-height: 1.5 !important;
          padding: 0 0.5rem !important;
          letter-spacing: -0.02em !important;
        }
      }

      /* セクション */
      section {
        padding: 0;
        background: var(--color-kidnapper);
        margin-bottom: 60px;
      }

      .section-title {
        color: var(--color-white);
        font-size: var(--font-size-2xl);
        font-weight: 700;
        text-align: center;
        margin: 3rem 0 2rem;
        background: linear-gradient(to right, #bf0000, #ff3333);
        padding: 1.2rem 0;
        position: relative;
        border-radius: 8px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
        overflow: hidden;
        letter-spacing: var(--letter-spacing-wide);
        line-height: var(--line-height-tight);
      }

      .section-title::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 5px;
        background: linear-gradient(to right, #ffcc00, #ffd700);
      }

      .section-title::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E");
        z-index: 0;
      }

      .section-title span {
        position: relative;
        z-index: 1;
      }

      .section-divider {
        width: 660px;
        height: 37px;
        margin: 0 auto 2rem;
        display: none;
      }

      /* 商品グリッド */
      .product-grid {
        display: flex;
        justify-content: center;
        gap: 89px;
        padding: 1rem;
        flex-wrap: wrap;
      }

      /* 商品カード */
      .product-card {
        background: #fff5f7; /* さらに薄い桃色 */
        border-radius: 20px;
        width: 519px;
        position: relative;
        padding-bottom: 100px;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        overflow: hidden;
      }

      .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
      }

      .product-link {
        display: block;
        padding: 2rem 2rem 0;
        position: relative;
        z-index: 1;
      }

      .product-image {
        width: 100%;
        aspect-ratio: 1;
        object-fit: contain;
        background: var(--color-white);
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.5s ease, filter 0.5s ease;
      }

      .product-card:hover .product-image {
        transform: scale(1.03);
        filter: brightness(1.05);
      }

      /* 商品画像の光るエフェクト */
      .product-link::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 50%;
        height: 100%;
        background: linear-gradient(
          to right,
          rgba(255, 255, 255, 0) 0%,
          rgba(255, 255, 255, 0.3) 50%,
          rgba(255, 255, 255, 0) 100%
        );
        transform: skewX(-25deg);
        z-index: 2;
        animation: imageShine 5s infinite;
        pointer-events: none;
      }

      @keyframes imageShine {
        0% {
          left: -100%;
          opacity: 0;
        }
        15% {
          opacity: 0.3;
        }
        35%,
        100% {
          left: 150%;
          opacity: 0;
        }
      }

      .product-info {
        padding: 2rem;
        text-align: center;
        position: relative;
        z-index: 1;
      }

      .product-title {
        font-size: var(--font-size-lg);
        font-weight: 600;
        margin-bottom: 1.5rem;
        line-height: var(--line-height-tight);
        letter-spacing: var(--letter-spacing-tight);
        word-break: keep-all;
        overflow-wrap: break-word;
        display: inline-block;
        max-width: 100%;
      }

      .product-price {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.25rem;
        position: relative;
        margin: 1rem 0;
      }

      .price-original {
        color: #444444;
        text-decoration: line-through;
        font-size: 1.5rem;
        font-weight: 600;
        letter-spacing: 0.02em;
      }

      .discount-badge {
        color: #ffffff;
        font-weight: 800;
        font-size: 2.2rem;
        background: #e60012;
        padding: 0.3rem 1.5rem;
        border-radius: 4px;
        margin: 0.5rem 0;
        letter-spacing: 0.05em;
        position: relative;
        display: inline-block;
      }

      .price-current {
        color: #e60012;
        font-weight: 800;
        font-size: 3.6rem;
        line-height: 1.2;
        letter-spacing: -0.02em;
        position: relative;
        display: inline-block;
        padding: 0 0.5rem;
      }

      .price-current::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: rgba(230, 0, 18, 0.15);
      }

      .price-range {
        color: #e60012;
        font-weight: bold;
        font-size: 2.2rem;
        line-height: 1.4;
        white-space: nowrap; /* 改行を防ぐ */
        display: inline-block; /* インラインブロック要素として表示 */
      }

      @media (max-width: 768px) {
        .price-original {
          font-size: 1.3rem;
        }

        .discount-badge {
          font-size: 1.8rem;
          padding: 0.2rem 1.2rem;
        }

        .price-current {
          font-size: 3rem;
        }

        .price-range {
          font-size: 2.4rem;
          font-weight: 800;
          white-space: nowrap;
        }
      }

      @media (max-width: 480px) {
        .price-original {
          font-size: var(--font-size-xs);
        }

        .discount-badge {
          font-size: 1.6rem;
        }

        .price-current {
          font-size: 2.2rem;
        }

        .price-range {
          font-size: 2.2rem;
          white-space: nowrap;
        }
      }

      .discount-badge::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
        animation: shine 2s infinite;
      }

      .discount-badge::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: radial-gradient(
          circle at 50% 50%,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        pointer-events: none;
      }

      @keyframes shine {
        0% {
          left: -100%;
        }
        100% {
          left: 100%;
        }
      }

      /* 商品ページボタン */
      .product-button {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        width: 216px;
        height: 64px;
        background: url(https://www.rakuten.ne.jp/gold/mogustore/sales/rakuten_marathon/202504/statics/button.png)
          no-repeat center;
        background-size: contain;
        display: block;
        font-size: 0;
        text-indent: -9999px;
        overflow: hidden;
        transition: all 0.3s ease;
      }

      .product-button:hover {
        transform: translateX(-50%) scale(1.05);
        filter: brightness(1.1);
      }

      .product-button:active {
        transform: translateX(-50%) scale(0.98);
        filter: brightness(0.95);
      }

      /* 商品ボタンの光るエフェクト */
      @keyframes buttonShine {
        0% {
          background-position: -100% 0;
        }
        100% {
          background-position: 200% 0;
        }
      }

      .product-button::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          rgba(255, 255, 255, 0) 0%,
          rgba(255, 255, 255, 0.4) 50%,
          rgba(255, 255, 255, 0) 100%
        );
        background-size: 200% 100%;
        animation: buttonShine 2s infinite;
        pointer-events: none;
      }

      /* レスポンシブ対応 */
      @media (max-width: 1200px) {
        .product-grid {
          gap: 2rem;
        }

        .product-card {
          width: calc(100% - 2rem);
          max-width: 519px;
        }
      }

      @media (max-width: 768px) {
        .section-title {
          font-size: var(--font-size-xl);
          padding: 1rem 0.5rem;
          margin: 2rem 0 1.5rem;
          line-height: var(--line-height-tight);
        }

        .section-title::before {
          height: 3px;
        }

        .section-title::after {
          bottom: -15px;
          height: 15px;
        }

        .product-card {
          padding-bottom: 90px;
          transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .product-card:active {
          transform: scale(0.98);
          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .product-link {
          padding: 1rem 1rem 0;
        }

        .product-info {
          padding: 1rem;
        }

        .product-title {
          font-size: var(--font-size-base);
          margin-bottom: 1rem;
          line-height: var(--line-height-tight);
        }

        .price-current {
          font-size: var(--font-size-2xl);
        }

        .discount-badge {
          font-size: var(--font-size-lg);
          padding: 0.2rem 0.5rem;
          margin: 0.5rem 0;
          display: inline-block;
          border-radius: 4px;
        }

        .product-button {
          bottom: 15px;
          height: 56px; /* タップしやすいサイズに調整 */
          width: 200px; /* 幅を少し小さく */
        }
      }

      @media (max-width: 480px) {
        .product-title {
          font-size: var(--font-size-sm);
        }

        .price-original {
          font-size: var(--font-size-xs);
        }

        .price-current {
          font-size: var(--font-size-xl);
        }

        .discount-badge {
          font-size: var(--font-size-base);
        }

        .product-button {
          height: 50px;
          width: 180px;
        }

        /* カウントダウンの調整 */
        .calendar-countdown {
          padding: 15px 10px;
        }

        .calendar-container {
          gap: 8px;
        }

        .calendar-page {
          width: 60px;
          height: 70px;
        }

        /* ソーシャルアイコンのタップ領域拡大 */
        .social-icon {
          width: 2.2rem;
          height: 2.2rem;
          cursor: default; /* リンクではないことを示す */
        }
      }

      /* 送料無料・1000円ポッキリセクション */
      .pockiri-section {
        background: linear-gradient(
          135deg,
          var(--color-section-1) 0%,
          #ffffff 100%
        );
        position: relative;
        overflow: hidden;
        padding: 2rem 0;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);
      }

      .pockiri-section::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        right: -50%;
        bottom: -50%;
        background-image: url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23f8d7da' fill-opacity='0.3'%3E%3Cpath d='M20 20c20-20 40-20 60 0s20 40 0 60s-40 20-60 0s-20-40 0-60zm12 12c-12 12-12 24 0 36s24 12 36 0s12-24 0-36s-24-12-36 0z'/%3E%3C/g%3E%3C/svg%3E");
        z-index: 0;
        animation: floatingBackground 180s linear infinite alternate;
      }

      @keyframes floatingBackground {
        0% {
          transform: translate(0, 0);
        }
        100% {
          transform: translate(-10%, -10%);
        }
      }

      /* 人気アイテムセクション */
      .popular-section {
        background: linear-gradient(to right, var(--color-section-2), #ffffff);
        position: relative;
        overflow: hidden;
        padding: 2rem 0;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);
      }

      .popular-section::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        right: -50%;
        bottom: -50%;
        background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23d0d1ff' fill-opacity='0.3'%3E%3Cpath d='M30 0L0 30h60L30 0zm0 60L0 30h60L30 60z'/%3E%3C/g%3E%3C/svg%3E");
        z-index: 0;
        animation: floatingBackground 200s linear infinite alternate-reverse;
      }

      @keyframes floatingBackground {
        0% {
          transform: translate(0, 0);
        }
        100% {
          transform: translate(-10%, -10%);
        }
      }

      /* 新商品セクション */
      .new-section {
        background: radial-gradient(
          circle at top right,
          var(--color-section-3),
          #ffffff 70%
        );
        position: relative;
        overflow: hidden;
        padding: 2rem 0;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);
      }

      .new-section::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        right: -50%;
        bottom: -50%;
        background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffbd70' fill-opacity='0.3'%3E%3Cpath d='M50 0l39.39 39.39L100 50l-10.61 10.61L50 100 10.61 60.61 0 50l10.61-10.61L50 0zm0 20L20 50l30 30 30-30-30-30z'/%3E%3C/g%3E%3C/svg%3E");
        z-index: 0;
        animation: floatingBackground 220s linear infinite alternate;
      }

      @keyframes floatingBackground {
        0% {
          transform: translate(0, 0);
        }
        100% {
          transform: translate(-10%, -10%);
        }
      }

      /* お買い得品セクション */
      .bargain-section {
        background: linear-gradient(
          135deg,
          #ffffff 0%,
          var(--color-section-4) 100%
        );
        position: relative;
        overflow: hidden;
        padding: 2rem 0;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);
      }

      .bargain-section::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        right: -50%;
        bottom: -50%;
        background-image: url("data:image/svg+xml,%3Csvg width='70' height='70' viewBox='0 0 70 70' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23a3e0c5' fill-opacity='0.3'%3E%3Cpath d='M35 0L0 35l35 35 35-35L35 0zm0 20l15 15-15 15-15-15 15-15z'/%3E%3C/g%3E%3C/svg%3E");
        z-index: 0;
        animation: floatingBackground 240s linear infinite alternate-reverse;
      }

      @keyframes floatingBackground {
        0% {
          transform: translate(0, 0);
        }
        100% {
          transform: translate(-10%, -10%);
        }
      }

      /* セクションコンテンツを相対位置に設定 */
      .pockiri-section > *,
      .popular-section > *,
      .new-section > *,
      .bargain-section > * {
        position: relative;
        z-index: 1;
      }

      /* レスポンシブ対応 */
      @media (max-width: 768px) {
        .pockiri-section,
        .popular-section,
        .new-section,
        .bargain-section {
          padding: 1.5rem 0;
          border-radius: 8px;
        }
      }

      /* フッターのスタイル */
      .site-footer {
        background: linear-gradient(
          135deg,
          #ffffff 0%,
          #ffffff 85%,
          #f8f8f8 100%
        );
        padding: 3.75rem 0 0;
        border-top: 0.0625rem solid #eee;
        position: relative;
        overflow: hidden;
      }

      .site-footer::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23cb0708' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        opacity: 0.5;
        z-index: 0;
      }

      .footer-content {
        max-width: 75rem;
        margin: 0 auto;
        padding: 0 1.25rem;
        display: flex;
        flex-direction: column;
        gap: 2.5rem;
        position: relative;
        z-index: 1;
      }

      .footer-search {
        width: 100%;
        max-width: 50rem;
        margin: 0 auto;
        position: relative;
      }

      .search-box {
        display: flex;
        gap: 1rem;
        width: 100%;
      }

      .search-input {
        flex: 1;
        padding: 1rem 1.25rem;
        border: 0.0625rem solid #ddd;
        border-radius: 0.25rem;
        font-size: 1rem;
        width: 100%;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease;
      }

      .search-input:focus {
        border-color: var(--color-primary);
        box-shadow: 0 4px 15px rgba(203, 7, 8, 0.15);
        outline: none;
      }

      .search-button {
        padding: 1rem 3rem;
        background: linear-gradient(to right, #28b6cf, #1a9bb3);
        color: #fff;
        border: none;
        border-radius: 0.25rem;
        font-weight: bold;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s;
        white-space: nowrap;
        box-shadow: 0 4px 10px rgba(40, 182, 207, 0.2);
      }

      .search-button:hover {
        background: linear-gradient(to right, #1a9bb3, #0d8da5);
        transform: translateY(-2px);
        box-shadow: 0 6px 15px rgba(40, 182, 207, 0.3);
      }

      .footer-logo-button-wrapper {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1.5rem;
        padding: 1.25rem 0;
      }

      .footer-logo {
        margin: 0;
        position: relative;
      }

      .mogu-logo {
        height: 7.5rem; /* 120px相当 */
        width: auto;
        filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
        transition: all 0.3s ease;
      }

      .mogu-logo:hover {
        filter: drop-shadow(0 6px 10px rgba(0, 0, 0, 0.15));
        transform: translateY(-3px);
      }

      .footer-top-button {
        display: inline-block;
        padding: 0.75rem 2.5rem;
        background: linear-gradient(to right, #ffb366, #ff9933);
        color: #444;
        text-decoration: none;
        border-radius: 2rem;
        font-weight: bold;
        transition: all 0.3s;
        margin: 0;
        box-shadow: 0 4px 10px rgba(255, 179, 102, 0.3);
      }

      .footer-top-button:hover {
        background: linear-gradient(to right, #ffd5a1, #ffb366);
        transform: translateY(-0.1875rem);
        box-shadow: 0 6px 15px rgba(255, 179, 102, 0.4);
      }

      .footer-top-button:active {
        transform: translateY(-0.0625rem);
        box-shadow: 0 3px 8px rgba(255, 179, 102, 0.3);
      }

      .footer-nav {
        width: 100%;
        padding: 2rem 0;
        border-top: 0.0625rem solid #eee;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2rem;
        position: relative;
      }

      .footer-nav::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 10%;
        width: 80%;
        height: 1px;
        background: linear-gradient(
          to right,
          rgba(203, 7, 8, 0),
          rgba(203, 7, 8, 0.1),
          rgba(203, 7, 8, 0)
        );
      }

      .footer-links {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        justify-content: center;
        gap: 3rem;
      }

      .footer-links a {
        color: #666;
        text-decoration: none;
        font-size: 0.875rem;
        transition: all 0.3s;
        position: relative;
        padding: 0.3rem 0;
      }

      .footer-links a:hover {
        color: var(--color-primary);
      }

      .footer-links a::after {
        content: "";
        position: absolute;
        width: 100%;
        transform: scaleX(0);
        height: 1px;
        bottom: 0;
        left: 0;
        background-color: var(--color-primary);
        transform-origin: bottom right;
        transition: transform 0.3s ease-out;
      }

      .footer-links a:hover::after {
        transform: scaleX(1);
        transform-origin: bottom left;
      }

      /* ソーシャルメディアアイコン */
      .social-links {
        display: flex;
        justify-content: center;
        gap: 1.5rem;
        margin: 1.5rem 0;
      }

      .social-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 2.5rem;
        height: 2.5rem;
        border-radius: 50%;
        background: #f5f5f5;
        color: #666;
        font-size: 1.2rem;
        transition: all 0.3s ease;
        text-decoration: none;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
      }

      .social-icon:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
      }

      .social-icon.twitter {
        background: linear-gradient(135deg, #f5f5f5, #e1e8ed);
        color: #1da1f2;
      }

      .social-icon.twitter:hover {
        background: #1da1f2;
        color: white;
      }

      .social-icon.facebook {
        background: linear-gradient(135deg, #f5f5f5, #e6eaf4);
        color: #4267b2;
      }

      .social-icon.facebook:hover {
        background: #4267b2;
        color: white;
      }

      .social-icon.instagram {
        background: linear-gradient(135deg, #f5f5f5, #f3e5f5);
        color: #c13584;
      }

      .social-icon.instagram:hover {
        background: linear-gradient(
          45deg,
          #405de6,
          #5851db,
          #833ab4,
          #c13584,
          #e1306c,
          #fd1d1d
        );
        color: white;
      }

      .social-icon.line {
        background: linear-gradient(135deg, #f5f5f5, #e5f7e5);
        color: #00b900;
      }

      .social-icon.line:hover {
        background: #00b900;
        color: white;
      }

      /* フッターの著作権表示 */
      .copyright {
        text-align: center;
        padding: 1.5rem 0;
        color: #999;
        font-size: 0.75rem;
        margin-top: 1rem;
      }

      @media screen and (max-width: 768px) {
        .site-footer {
          padding: 2.5rem 0 0;
        }

        .footer-content {
          gap: 1.875rem;
        }

        .footer-logo-button-wrapper {
          gap: 1.25rem;
        }

        .mogu-logo {
          height: 6rem; /* モバイル時は96px相当 */
        }

        .search-box {
          flex-direction: column;
        }

        .search-button {
          width: 100%;
        }

        .footer-links {
          width: 100%;
          justify-content: center;
          gap: 2rem;
          flex-wrap: wrap;
        }

        .footer-top-button {
          padding: 0.75rem 1.5rem;
          font-size: 0.875rem;
          margin: 0;
        }

        .social-links {
          gap: 1rem;
        }

        .social-icon {
          width: 2.2rem;
          height: 2.2rem;
          font-size: 1rem;
        }
      }

      @media screen and (max-width: 480px) {
        .footer-top-button {
          padding: 0.625rem 1.25rem;
          border-radius: 1.5rem;
        }

        .footer-nav {
          padding: 1.5rem 0;
          gap: 1.5rem;
        }

        .mogu-logo {
          height: 5rem; /* 小さい画面では80px相当 */
        }

        .footer-links {
          gap: 1.5rem;
        }

        .social-links {
          gap: 0.8rem;
        }

        .social-icon {
          width: 2rem;
          height: 2rem;
          font-size: 0.9rem;
        }
      }

      /* カレンダー風カウントダウンのスタイル */
      .calendar-countdown {
        text-align: center;
        margin: 30px auto;
        max-width: 600px;
        background: linear-gradient(135deg, #fff0f0 0%, #fff8f8 100%);
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(203, 7, 8, 0.15);
        position: relative;
        overflow: hidden;
        border: 2px solid rgba(203, 7, 8, 0.2);
      }

      .calendar-countdown::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.8) 0%,
          rgba(255, 255, 255, 0) 70%
        );
        animation: pulse 3s infinite;
        z-index: 0;
        opacity: 0.5;
      }

      @keyframes pulse {
        0% {
          transform: scale(0.8);
          opacity: 0.3;
        }
        50% {
          transform: scale(1);
          opacity: 0.5;
        }
        100% {
          transform: scale(0.8);
          opacity: 0.3;
        }
      }

      .calendar-title {
        font-size: var(--font-size-xl);
        font-weight: 800;
        margin-bottom: 15px;
        color: var(--color-primary);
        text-shadow: 1px 1px 0 rgba(255, 255, 255, 0.8);
        position: relative;
        z-index: 1;
        display: inline-block;
        padding: 5px 20px;
        letter-spacing: var(--letter-spacing-wide);
        line-height: var(--line-height-tight);
      }

      .calendar-title::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 10%;
        width: 80%;
        height: 2px;
        background: linear-gradient(
          to right,
          rgba(203, 7, 8, 0) 0%,
          rgba(203, 7, 8, 0.5) 50%,
          rgba(203, 7, 8, 0) 100%
        );
      }

      .calendar-container {
        display: flex;
        justify-content: center;
        gap: 15px;
        position: relative;
        z-index: 1;
        padding: 0.5rem;
      }

      .calendar-page {
        background: linear-gradient(135deg, #ffffff 0%, #f8f8f8 100%);
        border: none;
        border-radius: 12px;
        width: 80px;
        height: 90px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1),
          inset 0 -4px 0 rgba(0, 0, 0, 0.05);
        position: relative;
        overflow: hidden;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        transform-style: preserve-3d;
        perspective: 1000px;
      }

      .calendar-page:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15),
          inset 0 -4px 0 rgba(0, 0, 0, 0.05);
      }

      .calendar-page::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 30px;
        background: linear-gradient(135deg, #cb0708 0%, #ff3333 100%);
        z-index: 0;
      }

      .calendar-page span {
        font-size: 2.5rem;
        font-weight: 900;
        color: #333;
        position: relative;
        z-index: 1;
        margin-top: 15px;
        font-feature-settings: "tnum";
        font-variant-numeric: tabular-nums;
        text-shadow: 0 1px 0 #fff, 0 2px 3px rgba(0, 0, 0, 0.1);
        transform: translateZ(20px);
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .calendar-page:hover span {
        transform: translateZ(30px);
      }

      .calendar-label {
        margin-top: 10px;
        font-size: 0.9rem;
        font-weight: 700;
        color: #333;
        background: rgba(255, 255, 255, 0.9);
        padding: 4px 12px;
        border-radius: 20px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        letter-spacing: 0.05em;
        transform: translateZ(10px);
      }

      /* 秒の表示を点滅させる */
      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
          transform: scale(1) translateZ(20px);
        }
        50% {
          opacity: 0.8;
          transform: scale(0.98) translateZ(20px);
        }
      }

      #countdown-seconds {
        animation: pulse 1s cubic-bezier(0.4, 0, 0.2, 1) infinite;
        color: #cb0708;
      }

      @media (max-width: 768px) {
        .calendar-countdown {
          margin: 1.5rem auto;
          padding: 15px;
        }

        .calendar-container {
          gap: 10px;
        }

        .calendar-page {
          width: 65px;
          height: 75px;
        }

        .calendar-page::before {
          height: 25px;
        }

        .calendar-page span {
          font-size: 2rem;
          margin-top: 12px;
        }

        .calendar-label {
          font-size: 0.8rem;
          padding: 3px 10px;
        }
      }

      @media (max-width: 480px) {
        .calendar-countdown {
          margin: 1rem auto;
          padding: 10px;
        }

        .calendar-container {
          gap: 8px;
        }

        .calendar-page {
          width: 55px;
          height: 65px;
        }

        .calendar-page::before {
          height: 20px;
        }

        .calendar-page span {
          font-size: 1.8rem;
          margin-top: 10px;
        }

        .calendar-label {
          font-size: 0.75rem;
          padding: 2px 8px;
        }
      }

      /* 緊急性を伝えるリボン */
      .calendar-countdown::after {
        content: "期間限定";
        position: absolute;
        top: 20px;
        right: -30px;
        background: var(--color-secondary);
        color: #333;
        font-size: 0.8rem;
        font-weight: bold;
        padding: 5px 40px;
        transform: rotate(45deg);
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        z-index: 2;
      }

      /* キャンペーン終了メッセージのスタイル */
      .campaign-ended {
        font-size: 2rem;
        font-weight: 800;
        color: #666;
        text-align: center;
        padding: 20px;
        background: linear-gradient(135deg, #f5f5f5 0%, #e5e5e5 100%);
        border-radius: 10px;
        box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
        text-shadow: 1px 1px 0 rgba(255, 255, 255, 1);
      }

      @media (max-width: 768px) {
        .calendar-countdown {
          margin: 1.5rem auto;
          padding: 15px;
        }

        .calendar-container {
          gap: 10px;
        }

        .calendar-page {
          width: 65px;
          height: 75px;
        }

        .calendar-page::before {
          height: 25px;
        }

        .calendar-page span {
          font-size: 2rem;
          margin-top: 12px;
        }

        .calendar-label {
          font-size: 0.8rem;
          padding: 3px 10px;
        }
      }

      @media (max-width: 480px) {
        .calendar-countdown {
          margin: 1rem auto;
          padding: 10px;
        }

        .calendar-container {
          gap: 8px;
        }

        .calendar-page {
          width: 55px;
          height: 65px;
        }

        .calendar-page::before {
          height: 20px;
        }

        .calendar-page span {
          font-size: 1.8rem;
          margin-top: 10px;
        }

        .calendar-label {
          font-size: 0.75rem;
          padding: 2px 8px;
        }
      }

      /* 商品説明文のスタイル */
      .product-description {
        white-space: pre-line; /* 改行を保持して表示 */
        margin-top: 0.5rem;
        font-size: var(--font-size-sm);
        line-height: var(--line-height-relaxed);
        color: #333;
        word-break: keep-all; /* 単語の途中での改行を防止 */
        overflow-wrap: break-word; /* 長い単語は必要に応じて折り返し */
        text-align: left; /* テキストを左揃えに */
        letter-spacing: var(--letter-spacing-normal);
      }

      .product-description span.nowrap {
        display: inline-block;
        white-space: nowrap;
      }

      /* 商品なしメッセージのスタイル */
      .no-products {
        text-align: center;
        padding: 2rem;
        color: #666;
        font-style: italic;
      }

      /* 価格範囲のスタイル */
      .price-range {
        display: block;
        font-weight: 800;
        color: #ff0000;
        font-size: var(--font-size-3xl);
        margin: 0.5rem 0;
        text-shadow: 2px 2px 4px rgba(255, 0, 0, 0.1);
        position: relative;
        padding: 0.5rem 1.5rem;
        background: linear-gradient(135deg, #fff5f5, #ffffff);
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(255, 0, 0, 0.15);
        border: 2px solid rgba(255, 0, 0, 0.1);
      }

      @keyframes pulsatePrice {
        0%,
        100% {
          transform: scale(1);
          text-shadow: 0 0 5px rgba(203, 7, 8, 0.2);
        }
        50% {
          transform: scale(1.05);
          text-shadow: 0 0 10px rgba(203, 7, 8, 0.3);
        }
      }

      /* 1000円ポッキリセクション */
      .price-1000 {
        padding: 2rem 0 5rem;
        background: var(--color-background);
      }

      .price-1000 .product-grid {
        max-width: 800px;
        margin: 0 auto;
      }

      .price-1000 .product-card {
        width: 100%;
        max-width: 519px;
        margin: 0 auto;
      }

      .price-1000 .product-title {
        font-size: 1.5rem;
        color: var(--color-black);
        margin-bottom: 1rem;
      }

      .price-1000 .price-current {
        font-size: 2.5rem;
        color: var(--color-primary);
        font-weight: 700;
        margin: 1rem 0;
      }

      .price-1000 .product-description {
        font-size: 1rem;
        color: var(--color-black);
        line-height: 1.6;
        margin: 1rem 0;
      }

      @media (max-width: 768px) {
        .price-1000 .product-title {
          font-size: 1.25rem;
        }

        .price-1000 .price-current {
          font-size: 2rem;
        }

        .price-1000 .product-description {
          font-size: 0.9rem;
        }
      }

      .to-top .arrow {
        color: #666;
        font-size: 32px;
        font-weight: bold;
        line-height: 0.8;
        text-align: center;
        transform: translateY(-4px);
      }

      .to-top:hover {
        opacity: 0.8;
      }

      @media (max-width: 768px) {
        .to-top {
          right: 15px;
          bottom: 85px;
          width: 40px;
          height: 40px;
        }

        .to-top .arrow {
          font-size: 20px;
          line-height: 0.8;
          transform: translateY(-2px);
        }
      }

      /* カテゴリナビ */
      .category-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background: rgba(255, 255, 255, 0.95);
        box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
        z-index: 100;
        padding: 15px 0;
      }

      .category-list {
        display: flex;
        justify-content: center;
        gap: 3rem;
        list-style: none;
        margin: 0;
        padding: 0;
        flex-wrap: nowrap;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        -ms-overflow-style: none;
      }

      .category-list::-webkit-scrollbar {
        display: none;
      }

      .category-list li {
        flex: 0 0 auto;
      }

      .category-list a {
        display: block;
        padding: 12px 30px;
        color: var(--color-primary);
        font-weight: bold;
        font-size: 1.2rem;
        border-radius: 25px;
        background: var(--color-white);
        border: 2px solid var(--color-primary);
        transition: all 0.3s;
        white-space: nowrap;
      }

      .category-list a:hover {
        background: var(--color-primary);
        color: var(--color-white);
      }

      @media (max-width: 768px) {
        .category-nav {
          padding: 12px 10px;
        }

        .category-list {
          gap: 1rem;
          padding: 0 5px;
          justify-content: flex-start;
        }

        .category-list a {
          padding: 8px 16px;
          font-size: 0.9rem;
          border-radius: 20px;
        }

        /* TOPに戻るボタンの位置調整 */
        .to-top {
          bottom: 85px;
        }
      }

      @media (max-width: 480px) {
        .category-list {
          gap: 1rem;
        }

        .category-list a {
          padding: 6px 12px;
          font-size: 0.9rem;
        }
      }

      /* スクロール時のナビゲーション表示/非表示アニメーション */
      .scroll-down .category-section.sticky {
        transform: translateY(100%);
        opacity: 0;
      }

      .scroll-up .category-section.sticky {
        transform: translateY(0);
        opacity: 1;
      }

      /* タップ時のフィードバック改善 */
      .category-button:active,
      .product-button:active,
      .footer-top-button:active,
      .search-button:active {
        transform: scale(0.98);
        opacity: 0.9;
      }

      /* 価格表示の視認性向上 */
      .price-current,
      .price-range {
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      }

      .discount-badge {
        font-weight: 800;
        display: inline-block;
        padding: 0.2rem 0.5rem;
        border-radius: 4px;
      }

      /* タッチデバイス向けの調整 */
      .touch-device .category-button,
      .touch-device .product-button,
      .touch-device .footer-top-button,
      .touch-device .search-button,
      .touch-device .social-icon {
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
      }

      .touch-device .category-button:hover {
        transform: none;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .touch-device .product-card:hover {
        transform: none;
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
      }

      .touch-device .product-card:hover .product-image {
        transform: none;
        filter: brightness(1);
      }

      .touch-device .calendar-page:hover {
        transform: none;
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1),
          inset 0 -4px 0 rgba(0, 0, 0, 0.05);
      }

      /* アクティブ状態のスタイル強化 */
      .touch-device .category-button:active {
        transform: scale(0.98);
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        background: linear-gradient(to right, #ff3333, #bf0000);
      }

      .touch-device .product-card:active {
        transform: scale(0.98);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      }

      .touch-device .footer-top-button:active {
        transform: scale(0.95);
        background: linear-gradient(to right, #ffb366, #ff9933);
      }

      .touch-device .search-button:active {
        transform: scale(0.95);
        background: linear-gradient(to right, #1a9bb3, #0d8da5);
      }

      /* スクロールの滑らかさ向上 */
      .touch-device {
        -webkit-overflow-scrolling: touch;
        scroll-behavior: smooth;
      }

      /* フォーカス状態の視認性向上 */
      .touch-device input:focus,
      .touch-device button:focus,
      .touch-device a:focus {
        outline: none;
        box-shadow: 0 0 0 2px rgba(203, 7, 8, 0.3);
      }

      /* カテゴリーボタンのレスポンシブ改善 */
      @media (max-width: 768px) {
        .category-buttons {
          display: flex;
          flex-direction: column;
          gap: 0.7rem;
          padding: 0 0.5rem;
        }

        .category-row {
          display: flex;
          flex-direction: column;
          gap: 0.7rem;
          width: 100%;
        }

        .category-button {
          padding: 0.8rem 1rem;
          font-size: 0.9rem;
          white-space: normal;
          background: linear-gradient(to right, #bf0000, #ff3333);
          box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);
          min-width: auto; /* 幅を内容に合わせる */
          flex: 0 0 auto; /* 幅を固定しない */
          width: 100%;
          justify-content: center; /* 中央揃えに変更 */
          display: flex;
          align-items: center;
          border-radius: 8px;
          position: relative;
          overflow: hidden;
        }

        .category-button::before {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 3px;
          background: linear-gradient(to right, #ffcc00, #ffd700);
          z-index: 1;
        }

        .category-text {
          word-break: keep-all;
          overflow-wrap: break-word;
          line-height: 1.4;
          font-size: 1rem;
          text-align: center; /* 中央揃えに変更 */
          font-weight: bold;
          color: var(--color-white);
          text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }

        .category-text br {
          display: none; /* 改行を非表示に */
        }

        .category-icon {
          display: none; /* 矢印アイコンを非表示に変更 */
          width: 20px;
          height: auto;
        }

        .category-section.sticky .category-buttons {
          display: flex;
          flex-direction: column;
          gap: 0.6rem;
          padding: 0 0.5rem;
          max-height: 70vh;
          overflow-y: auto;
        }

        .category-section.sticky .category-row {
          display: flex;
          flex-direction: column;
          gap: 0.6rem;
          width: 100%;
        }

        .category-section.sticky .category-button {
          width: 100%;
          min-width: 0;
          padding: 0.7rem;
          font-size: 0.9rem;
          line-height: 1.3;
          white-space: normal;
          flex: 1 1 auto;
          background: linear-gradient(to right, #bf0000, #ff3333);
          border-radius: 8px;
          box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);
          justify-content: center; /* 中央揃えに変更 */
          height: auto;
          display: flex;
          align-items: center;
          position: relative;
          overflow: hidden;
        }

        .category-section.sticky .category-button::before {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 3px;
          background: linear-gradient(to right, #ffcc00, #ffd700);
          z-index: 1;
        }

        .category-section.sticky .category-text {
          font-size: 0.9rem;
          line-height: 1.3;
          text-align: center; /* 中央揃えに変更 */
          padding: 0;
          width: auto;
          word-break: keep-all;
          overflow-wrap: break-word;
          font-weight: bold;
          color: var(--color-white);
          text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }

        .category-section.sticky .category-text br {
          display: none; /* 改行を非表示に */
        }

        .category-section.sticky .category-icon {
          display: none; /* 固定表示時も矢印アイコンを非表示に */
          width: 20px;
          height: auto;
        }
      }

      @media (max-width: 480px) {
        .category-button {
          padding: 0.5rem 0.8rem;
          font-size: 0.85rem;
        }

        .category-text {
          font-size: 0.85rem;
        }

        .category-text br {
          display: inline; /* 改行を表示 */
        }

        .category-section.sticky .category-button {
          padding: 0.5rem;
          font-size: 0.85rem;
        }

        .category-section.sticky .category-text br {
          display: inline; /* 改行を表示 */
        }
      }

      @media (max-width: 768px) {
        .product-price .price-range {
          font-size: 1.5rem !important;
        }
      }

      /* クーポンセクションのスタイル */
      .coupon-section {
        margin: 2rem auto;
        max-width: 800px;
        text-align: center;
        position: relative;
      }

      .coupon-notice {
        color: #666;
        font-size: var(--font-size-lg);
        margin-top: 1.5rem;
        text-align: center;
        line-height: var(--line-height-relaxed);
        padding: 0 1rem;
        white-space: normal;
        word-break: keep-all;
        overflow-wrap: break-word;
        letter-spacing: var(--letter-spacing-normal);
      }

      @media (max-width: 768px) {
        .coupon-notice {
          font-size: var(--font-size-sm);
          margin-top: 1.2rem;
        }
      }

      /* 新生活応援特集セクションのスタイル */
      .shinseikatsu-section {
        margin: 2rem auto 3rem;
        max-width: 800px;
        text-align: center;
        position: relative;
      }

      .shinseikatsu-heading {
        color: #cb0708;
        font-size: var(--font-size-2xl);
        font-weight: 700;
        margin-bottom: 1rem;
        text-align: center;
        line-height: var(--line-height-tight);
        text-shadow: 1px 1px 0 rgba(255, 255, 255, 0.8);
        letter-spacing: var(--letter-spacing-wide);
      }

      .shinseikatsu-subheading {
        font-size: var(--font-size-lg);
        color: #333;
        text-align: center;
        margin-bottom: 1.5rem;
        letter-spacing: var(--letter-spacing-normal);
        line-height: var(--line-height-normal);
      }

      .shinseikatsu-link {
        display: block;
        transition: transform 0.3s ease, opacity 0.3s ease;
      }

      .shinseikatsu-link:hover {
        transform: translateY(-5px);
        opacity: 0.95;
      }

      .shinseikatsu-image {
        width: 100%;
        max-width: 800px;
        height: auto;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      }

      @media (max-width: 768px) {
        .shinseikatsu-section {
          margin: 1.5rem auto 2rem;
          padding: 0 1rem;
        }

        .shinseikatsu-heading {
          font-size: var(--font-size-xl);
          margin-bottom: 0.8rem;
        }

        .shinseikatsu-subheading {
          font-size: var(--font-size-base);
          margin-bottom: 1rem;
        }

        .shinseikatsu-image {
          border-radius: 8px;
        }
      }

      @media (max-width: 768px) {
        .price-current {
          font-size: 2.4rem; /* より大きなサイズに */
          font-weight: 800;
        }

        .price-original {
          font-size: 1.6rem; /* 適度な大きさに */
        }

        .discount-badge {
          font-size: 1.8rem; /* 割引率も目立つように */
          padding: 0.3rem 0.6rem;
        }

        .price-range {
          font-size: 2.4rem; /* 価格幅表示も同様に大きく */
          font-weight: 800;
        }
      }

      @media (max-width: 480px) {
        .price-current {
          font-size: 2.2rem; /* スマートフォンでも十分な大きさを維持 */
        }

        .price-original {
          font-size: 1.4rem;
        }

        .discount-badge {
          font-size: 1.6rem;
        }

        .price-range {
          font-size: 2.2rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- セールヘッダー -->
      <header id="top" class="sale-header">
        <div class="balloon-container"></div>
        <div class="confetti-container"></div>
        <img
          src="https://www.rakuten.ne.jp/gold/mogustore/sales/rakuten_marathon/202504/statics/sale_header.svg"
          alt="お買い物マラソン"
          class="sale-header-img"
          loading="eager"
          width="100%"
          height="auto"
          fetchpriority="high"
          decoding="sync"
        />
        <!-- カウントダウン部分 -->
        <div class="calendar-countdown">
          <div class="calendar-title">セール終了まで残り</div>
          <div class="calendar-container">
            <div class="calendar-item">
              <div class="calendar-page">
                <span id="countdown-days">00</span>
              </div>
              <div class="calendar-unit">日</div>
            </div>
            <div class="calendar-item">
              <div class="calendar-page">
                <span id="countdown-hours">00</span>
              </div>
              <div class="calendar-unit">時間</div>
            </div>
            <div class="calendar-item">
              <div class="calendar-page">
                <span id="countdown-minutes">00</span>
              </div>
              <div class="calendar-unit">分</div>
            </div>
            <div class="calendar-item">
              <div class="calendar-page">
                <span id="countdown-seconds">00</span>
              </div>
              <div class="calendar-unit">秒</div>
            </div>
          </div>
        </div>
      </header>

      <!-- クーポンセクション -->
      <section class="coupon-section">
        <div class="coupon-logo-container">
          <img
            src="https://www.rakuten.ne.jp/gold/mogustore/sales/rakuten_marathon/202504/statics/coupon_logo.svg"
            alt="お得にご購入！クーポンGET"
            class="coupon-logo"
            loading="lazy"
            decoding="async"
            width="300"
            height="auto"
            fetchpriority="low"
          />
        </div>
        <a
          href="https://coupon.rakuten.co.jp/getCoupon?getkey=QUNTMy1FM1daLTFQUk0tN1VQQw--&rt="
          target="_blank"
          rel="noopener noreferrer"
          class="coupon-link"
        >
          <img
            src="https://www.rakuten.ne.jp/gold/mogustore/sales/rakuten_marathon/202504/statics/coupon.svg"
            alt="お買い物マラソン限定 全品5%OFF！クーポンをGETする"
            class="coupon-card"
            loading="lazy"
            decoding="async"
            fetchpriority="low"
          />
        </a>
        <p class="coupon-notice">
          ※クーポンをご利用いただいた場合、税込1,000円未満はお買い物マラソンのお買い回りでの倍率アップの対象外となりますので、ご注意ください。
        </p>
      </section>

      <!-- 新生活応援特集セクション -->
      <section class="shinseikatsu-section">
        <h2 class="shinseikatsu-heading">
          ！新生活応援プライス・特別プライス終了間近！
        </h2>
        <p class="shinseikatsu-subheading">↓↓下記より特設ページへ↓↓</p>
        <a
          href="https://www.rakuten.ne.jp/gold/mogustore/sales/shinseikatsu/202503/"
          class="shinseikatsu-link"
          target="_blank"
          rel="noopener noreferrer"
        >
          <img
            src="https://www.rakuten.ne.jp/gold/mogustore/sales/rakuten_marathon/202504/statics/shinseikatsu.svg"
            alt="新生活応援特集 3/11 12:00 〜 4/6 23:59"
            class="shinseikatsu-image"
          />
        </a>
      </section>

      <!-- カテゴリーセクション -->
      <section class="category-wrapper">
        <!-- カテゴリーナビゲーション部分 -->
        <div id="category-section" class="category-section">
          <div class="category-buttons">
            <div class="category-row">
              <a href="#pockiri" class="category-button">
                <div class="category-text">
                  送料無料・1000円ポッキリ<br />お試しアイテム
                </div>
                <img
                  src="https://www.rakuten.ne.jp/gold/mogustore/sales/rakuten_marathon/202504/statics/arrow.png"
                  alt="矢印"
                  class="category-icon"
                />
              </a>
              <a href="#popular" class="category-button">
                <div class="category-text">今売れている<br />人気アイテム</div>
                <img
                  src="https://www.rakuten.ne.jp/gold/mogustore/sales/rakuten_marathon/202504/statics/arrow.png"
                  alt="矢印"
                  class="category-icon"
                />
              </a>
            </div>
            <div class="category-row">
              <a href="#new" class="category-button">
                <div class="category-text">新商品も<br />続々登場！</div>
                <img
                  src="https://www.rakuten.ne.jp/gold/mogustore/sales/rakuten_marathon/202504/statics/arrow.png"
                  alt="矢印"
                  class="category-icon"
                />
              </a>
              <a href="#bargain" class="category-button">
                <div class="category-text">セット販売や<br />お買い得品</div>
                <img
                  src="https://www.rakuten.ne.jp/gold/mogustore/sales/rakuten_marathon/202504/statics/arrow.png"
                  alt="矢印"
                  class="category-icon"
                />
              </a>
            </div>
          </div>
        </div>
      </section>

      <!-- メインコンテンツ -->
      <main>
        <!-- 送料無料・1000円ポッキリセクション -->
        <section id="pockiri" class="pockiri-section">
          <h2 class="section-title">
            <span>送料無料・1000円ポッキリお試しアイテム！</span>
          </h2>
          <div class="product-grid" id="pockiri-products">
            <!-- 商品カードは動的に生成されます -->
          </div>
        </section>

        <!-- 人気アイテムセクション -->
        <section id="popular" class="popular-section">
          <h2 class="section-title">
            <span>今売れている人気アイテム！</span>
          </h2>
          <div class="product-grid" id="popular-products">
            <!-- 商品カードは動的に生成されます -->
          </div>
        </section>

        <!-- 新商品セクション -->
        <section id="new" class="new-section">
          <h2 class="section-title">
            <span>新商品も続々登場！</span>
          </h2>
          <div class="product-grid" id="new-products">
            <!-- 商品カードは動的に生成されます -->
          </div>
        </section>

        <!-- お買い得品セクション -->
        <section id="bargain" class="bargain-section">
          <h2 class="section-title">
            <span>セット販売やMOGUストア限定のお買い得品！</span>
          </h2>
          <div class="product-grid" id="bargain-products">
            <!-- 商品カードは動的に生成されます -->
          </div>
        </section>
      </main>

      <!-- フッター -->
      <footer class="site-footer">
        <div class="footer-content">
          <div class="footer-search">
            <form
              class="search-box"
              action="https://search.rakuten.co.jp/search/mall/"
              method="get"
            >
              <input
                type="text"
                name="sitem"
                placeholder="商品を探す"
                class="search-input"
              />
              <input type="hidden" name="sid" value="422608" />
              <button type="submit" class="search-button">検索</button>
            </form>
          </div>
          <div class="footer-logo-button-wrapper">
            <a href="#top" class="footer-top-button">トップページへ</a>
          </div>
          <nav class="footer-nav">
            <div class="footer-logo">
              <img
                src="https://www.rakuten.ne.jp/gold/mogustore/sales/rakuten_marathon/202504/statics/logo.png"
                alt="MOGUロゴ"
                class="mogu-logo"
              />
            </div>
            <div class="social-links">
              <span class="social-icon twitter">
                <i class="fab fa-twitter"></i>
              </span>
              <span class="social-icon facebook">
                <i class="fab fa-facebook-f"></i>
              </span>
              <span class="social-icon instagram">
                <i class="fab fa-instagram"></i>
              </span>
              <span class="social-icon line">
                <i class="fab fa-line"></i>
              </span>
            </div>
            <ul class="footer-links">
              <li><a href="https://www.rakuten.co.jp/mogustore/">TOP</a></li>
              <li>
                <a href="https://www.rakuten.co.jp/mogustore/info.html"
                  >会社概要</a
                >
              </li>
              <li><a href="https://www.rakuten.co.jp/">楽天市場</a></li>
            </ul>
            <div class="copyright">
              &copy; 2025 MOGU STORE All Rights Reserved.
            </div>
          </nav>
        </div>
      </footer>
    </div>

    <!-- Font Awesome -->
    <script
      src="https://kit.fontawesome.com/a076d05399.js"
      crossorigin="anonymous"
      defer
    ></script>

    <!-- パフォーマンス最適化されたJavaScript -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // DOM要素の参照をキャッシュ
        const countdownElements = {
          days: document.getElementById("countdown-days"),
          hours: document.getElementById("countdown-hours"),
          minutes: document.getElementById("countdown-minutes"),
          seconds: document.getElementById("countdown-seconds"),
          container: document.querySelector(".calendar-countdown"),
          title: document.querySelector(".calendar-title"),
        };

        // 日付計算用の定数
        const SALE_DATES = {
          start: new Date("2025-04-04T20:00:00+09:00").getTime(),
          end: new Date("2025-04-10T01:59:59+09:00").getTime(),
        };

        // 時間計算用の定数
        const TIME_UNITS = {
          day: 24 * 60 * 60 * 1000,
          hour: 60 * 60 * 1000,
          minute: 60 * 1000,
          second: 1000,
        };

        // パフォーマンス最適化されたカウントダウン関数
        function updateCountdown() {
          const now = Date.now();

          // セール終了後
          if (now > SALE_DATES.end) {
            countdownElements.container.innerHTML =
              '<p class="campaign-ended">キャンペーン終了</p>';
            return false; // アニメーションフレームを停止
          }

          // セール開始前またはセール中の時間差分計算
          const targetDate =
            now < SALE_DATES.start ? SALE_DATES.start : SALE_DATES.end;
          const diff = targetDate - now;

          // 時間の計算
          const days = Math.floor(diff / TIME_UNITS.day);
          const hours = Math.floor((diff % TIME_UNITS.day) / TIME_UNITS.hour);
          const minutes = Math.floor(
            (diff % TIME_UNITS.hour) / TIME_UNITS.minute
          );
          const seconds = Math.floor(
            (diff % TIME_UNITS.minute) / TIME_UNITS.second
          );

          // DOMの更新を最小限に
          requestAnimationFrame(() => {
            countdownElements.days.textContent = String(days).padStart(2, "0");
            countdownElements.hours.textContent = String(hours).padStart(
              2,
              "0"
            );
            countdownElements.minutes.textContent = String(minutes).padStart(
              2,
              "0"
            );
            countdownElements.seconds.textContent = String(seconds).padStart(
              2,
              "0"
            );

            // タイトルの更新（変更が必要な場合のみ）
            const newTitle =
              now < SALE_DATES.start ? "開始まで残り" : "終了まで残り";
            if (countdownElements.title.textContent !== newTitle) {
              countdownElements.title.textContent = newTitle;
            }
          });

          return true; // アニメーションフレームを継続
        }

        // Intersection Observerを使用して画面内に表示されている時のみ更新
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                let animationFrame;
                function animate() {
                  if (updateCountdown()) {
                    animationFrame = requestAnimationFrame(animate);
                  }
                }
                animate();
              } else {
                if (animationFrame) {
                  cancelAnimationFrame(animationFrame);
                }
              }
            });
          },
          { threshold: 0.1 }
        );

        observer.observe(countdownElements.container);

        // パフォーマンス最適化されたスクロールハンドラー
        let lastScrollTop = 0;
        let scrollTimeout;
        const body = document.body;
        const scrollThreshold = 5;
        const categorySection = document.querySelector(".category-section");
        const originalOffset = categorySection?.offsetTop || 0;

        window.addEventListener(
          "scroll",
          () => {
            if (scrollTimeout) {
              return;
            }

            scrollTimeout = setTimeout(() => {
              const st = window.pageYOffset;

              // スクロール方向の検出と処理
              if (Math.abs(lastScrollTop - st) <= scrollThreshold) {
                scrollTimeout = null;
                return;
              }

              if (st > lastScrollTop && st > 100) {
                body.classList.add("scroll-down");
                body.classList.remove("scroll-up");
              } else if (st < lastScrollTop) {
                body.classList.add("scroll-up");
                body.classList.remove("scroll-down");
              }

              // カテゴリーセクションの固定表示制御
              if (categorySection) {
                const triggerPoint = originalOffset - window.innerHeight * 0.05;
                const transitionDistance = window.innerHeight * 0.3;
                const progress = Math.min(
                  1,
                  Math.max(0, (st - triggerPoint) / transitionDistance)
                );

                if (st > triggerPoint) {
                  if (progress > 0.8) {
                    categorySection.classList.add("sticky");
                  } else if (progress < 0.2) {
                    categorySection.classList.remove("sticky");
                  }
                } else {
                  categorySection.classList.remove("sticky");
                }
              }

              lastScrollTop = st <= 0 ? 0 : st;
              scrollTimeout = null;
            }, 16); // 約60fps
          },
          { passive: true }
        );

        // タッチデバイスの検出（一度だけ実行）
        if ("ontouchstart" in window || navigator.maxTouchPoints > 0) {
          document.body.classList.add("touch-device");
        }

        // 画像の遅延読み込み
        if ("loading" in HTMLImageElement.prototype) {
          document.querySelectorAll("img[loading='lazy']").forEach((img) => {
            if (img.dataset.src) {
              img.src = img.dataset.src;
            }
          });
        } else {
          // Fallback for browsers that don't support lazy loading
          const lazyImageObserver = new IntersectionObserver(
            (entries, observer) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  const img = entry.target;
                  if (img.dataset.src) {
                    img.src = img.dataset.src;
                    observer.unobserve(img);
                  }
                }
              });
            }
          );

          document.querySelectorAll("img[loading='lazy']").forEach((img) => {
            lazyImageObserver.observe(img);
          });
        }
      });
    </script>

    <!-- 風船とクラッカーのアニメーション -->
    <script>
      // 風船とクラッカーのアニメーション
      function createCelebration() {
        const colors = [
          "#ff0000",
          "#ff69b4",
          "#4169e1",
          "#ffd700",
          "#32cd32",
          "#ff4500",
        ];
        const balloonContainer = document.querySelector(".balloon-container");
        const confettiContainer = document.querySelector(".confetti-container");

        // 風船を作成
        function createBalloon() {
          const balloon = document.createElement("div");
          balloon.className = "balloon";
          const color = colors[Math.floor(Math.random() * colors.length)];
          balloon.style.setProperty(
            "--float-duration",
            `${4 + Math.random() * 4}s`
          );
          balloon.style.setProperty(
            "--rotation",
            `${-30 + Math.random() * 60}deg`
          );
          balloon.style.color = color;
          balloon.style.left = `${Math.random() * 100}%`;
          balloonContainer.appendChild(balloon);

          // アニメーション終了後に要素を削除
          balloon.addEventListener("animationend", () => {
            balloon.remove();
          });
        }

        // クラッカーを作成
        function createConfetti() {
          const confetti = document.createElement("div");
          confetti.className = "confetti";
          const color = colors[Math.floor(Math.random() * colors.length)];
          confetti.style.setProperty(
            "--fall-duration",
            `${2 + Math.random() * 2}s`
          );
          confetti.style.setProperty("--confetti-color", color);
          confetti.style.left = `${Math.random() * 100}%`;
          confettiContainer.appendChild(confetti);

          // アニメーション終了後に要素を削除
          confetti.addEventListener("animationend", () => {
            confetti.remove();
          });
        }

        // 初期の演出
        function initialCelebration() {
          // 最初の風船とクラッカーを一斉に作成
          for (let i = 0; i < 15; i++) {
            setTimeout(() => {
              createBalloon();
              createConfetti();
              createConfetti();
            }, i * 100);
          }
        }

        // ページ読み込み時に演出を開始
        initialCelebration();

        // 追加の風船とクラッカーをランダムに作成（より控えめに）
        setInterval(() => {
          if (Math.random() < 0.3) {
            // 30%の確率で
            createBalloon();
            createConfetti();
          }
        }, 2000);
      }

      // DOMContentLoadedイベントで初期化
      document.addEventListener("DOMContentLoaded", () => {
        createCelebration();
      });
    </script>

    <!-- 商品データの読み込みと表示 -->
    <script>
      async function loadProductData() {
        try {
          const response = await fetch("product_data.min.json");
          const data = await response.json();
          return data;
        } catch (error) {
          console.error("商品データの読み込みに失敗しました:", error);
          return null;
        }
      }

      function createProductCard(product) {
        const card = document.createElement("article");
        card.className = "product-card";

        // 価格表示の生成を最適化
        const getPriceHtml = (product) => {
          if (product.isPriceRange) {
            return `<span class="price-range">￥${product.minPrice.toLocaleString()}～${product.maxPrice.toLocaleString()}(税込)</span>`;
          }
          if (product.originalPrice === product.currentPrice) {
            return `<span class="price-current">￥${product.currentPrice.toLocaleString()}(税込)</span>`;
          }
          const discountRate =
            product.discountRate ||
            Math.floor(
              100 * (1 - product.currentPrice / product.originalPrice)
            );
          return `
            <span class="price-original">￥${product.originalPrice.toLocaleString()}(税込)</span>
            <span class="discount-badge">${discountRate}%OFF</span>
            <span class="price-current">￥${product.currentPrice.toLocaleString()}(税込)</span>
          `;
        };

        // 画像URLの生成を最適化
        const getImageUrl = (product) => {
          let imageUrl = product.imageUrl;
          if (imageUrl.startsWith("/img/rakuten_cabinet/")) {
            const fileName = imageUrl.split("/").pop();
            const imageMap = {
              "001001katakaru02": "katakaru2.jpg",
              "002005osuwarirabura": "osuwarirabura.jpg",
              "001001kazoku_cvrset": "kazoku_cvrset.jpg",
              "001001kazoku_pre_cvrset_br": "kazoku_pre_cvrset_br.jpg",
              "003001kumo_petsofa": "003001kumo_petsofa.jpg",
              "003001kumo_petsofa_r": "003001kumo_petsofa_r.jpg",
            };
            const mappedFileName = imageMap[product.id] || fileName;
            return `https://image.rakuten.co.jp/mogustore/cabinet/splp/11558925/11558926/${mappedFileName}`;
          }
          return imageUrl;
        };

        card.innerHTML = `
          <div class="product-link">
            <a href="${product.link}">
              <img
                src="${getImageUrl(product)}"
                alt="${product.title}"
                class="product-image"
                loading="lazy"
                fetchpriority="${product.id.startsWith("001") ? "high" : "low"}"
                decoding="async"
              />
            </a>
            <div class="product-info">
              <h3 class="product-title">${product.title}</h3>
              <div class="product-price">
                ${getPriceHtml(product)}
              </div>
              <p class="product-description">${product.description || ""}</p>
            </div>
          </div>
          <a href="${product.link}" class="product-button">商品ページ</a>
        `;

        return card;
      }

      function displayProducts(data) {
        const sections = {
          pockiri: data.pockiri || [],
          popular: data.popular || [],
          new: data.new || [],
          bargain: data.bargain || [],
          other: data.other || [],
        };

        // DocumentFragmentを使用してDOM操作を最小限に抑える
        const renderSection = (sectionId, products) => {
          const container = document.getElementById(sectionId);
          if (!container) return;

          const fragment = document.createDocumentFragment();

          if (products.length > 0) {
            products.forEach((product) => {
              const card = createProductCard(product);
              fragment.appendChild(card);
            });
          } else {
            const noProducts = document.createElement("p");
            noProducts.className = "no-products";
            noProducts.textContent = "現在、このカテゴリーの商品はありません。";
            fragment.appendChild(noProducts);
          }

          container.appendChild(fragment);
        };

        // IntersectionObserverを使用して遅延読み込みを実装
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                const sectionId = entry.target.id;
                const sectionName = sectionId.replace("-products", "");
                renderSection(sectionId, sections[sectionName]);
                observer.unobserve(entry.target);
              }
            });
          },
          {
            rootMargin: "50px 0px",
          }
        );

        // 各セクションを監視
        Object.keys(sections).forEach((section) => {
          const container = document.getElementById(`${section}-products`);
          if (container) {
            observer.observe(container);
          }
        });
      }

      // ページ読み込み時に商品データを読み込んで表示
      document.addEventListener("DOMContentLoaded", async () => {
        const productData = await loadProductData();
        if (productData) {
          displayProducts(productData);
        }
      });
    </script>

    <!-- カテゴリナビの固定表示開始位置の調整 -->
    <script>
      window.addEventListener("scroll", function () {
        const nav = document.querySelector(".category-nav");
        const headerHeight =
          document.querySelector(".sale-header").offsetHeight;
        const countdownHeight =
          document.querySelector(".countdown-section").offsetHeight;
        const couponHeight =
          document.querySelector(".coupon-section").offsetHeight;

        // 新生活応援特集セクションも考慮
        if (
          window.scrollY >
          headerHeight +
            countdownHeight +
            couponHeight +
            document.querySelector(".shinseikatsu-section").offsetHeight
        ) {
          nav.classList.add("fixed");
        } else {
          nav.classList.remove("fixed");
        }
      });
    </script>
  </body>
</html>
